(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{67:function(e,n,t){e.exports=t(82)},72:function(e,n,t){},78:function(e,n,t){},80:function(e,n,t){},81:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(8),l=t.n(o),i=t(58),c=(t(72),t(12)),u=function(e){return{type:"signup/SET_FORM_TYPE",payload:{type:e}}},s=function(e){return{type:"signup/SET_LOGIN_ERRORS",payload:{errors:e}}},d=t(116),m=t(110),p=t(50),g=t.n(p),v=Object(m.a)({root:{width:"100%",maxWidth:"430px"}}),f=r.memo((function(e){var n=v();return r.createElement(d.a,Object.assign({className:g()(e.className,n.root),size:"small"},e))})),E=r.memo((function(e){var n=e.value,t=e.error,a=e.onChange,o=Object(r.useCallback)((function(e){a(e.target.value)}),[a]);return r.createElement(f,{required:!0,error:Boolean(t),label:"Your email",helperText:t,variant:"outlined",onChange:o,value:n})})),_=Object(c.b)((function(e){return{value:e.signUp.login.value,error:e.signUp.login.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"signup/CHANGE_SIGNUP_LOGIN_VALUE",payload:{value:e}}}(n))}}}))(E),b=r.memo((function(e){var n=e.value,t=e.error,a=e.onChange,o=Object(r.useCallback)((function(e){a(e.target.value)}),[a]);return r.createElement(f,{required:!0,error:Boolean(t),label:"Enter password",helperText:t,variant:"outlined",onChange:o,value:n,type:"password"})})),O=Object(c.b)((function(e){return{value:e.signUp.password.value,error:e.signUp.password.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"signup/CHANGE_SIGNUP_PASSWORD_VALUE",payload:{value:e}}}(n))}}}))(b),h=(t(78),t(114)),y=t(115),w=t(38),N=t(54),C=t.n(N),S=Object(m.a)((function(e){return{circle:{backgroundColor:w.a[500],display:"flex",alignItems:"center",justifyContent:"center",width:"50px",height:"50px",borderRadius:"40px"}}})),j=r.memo((function(e){var n=S();return r.createElement("div",{className:n.circle},r.createElement(C.a,{htmlColor:"white"}))})),T=t(37),R=t(55),U=t.n(R),k=Object(m.a)((function(e){return{circle:{backgroundColor:T.a[500],display:"flex",alignItems:"center",justifyContent:"center",width:"50px",height:"50px",borderRadius:"40px"}}})),A=r.memo((function(e){var n=k();return r.createElement("div",{className:n.circle},r.createElement(U.a,{htmlColor:"white"}))})),I=t(118),G=t(117),P=(t(80),r.memo((function(e){e.isChecked;var n=e.onToggleValue;return r.createElement("div",{className:"checkbox"},r.createElement(I.a,{control:r.createElement(G.a,{color:"primary",onChange:n}),label:r.createElement("div",{className:"checkbox__text"},"I accept ",r.createElement("a",{href:"https://eurs.gozo.pro/sellback/gozo/docs/disclaimer/",target:"_blank"},"Terms of Business"))}))}))),L=Object(c.b)((function(e){return{isChecked:e.signUp.checkboxChecked}}),(function(e){return{onToggleValue:function(){e({type:"TOGGLE_CHECKBOX"})}}}))(P),x=r.memo((function(e){var n=e.type,t=e.clearForm,a=e.onSignUpButtonClick,o=e.onReturnButtonClick,l=e.isButtonDisabled;Object(r.useEffect)((function(){"SUCCESS"===n&&t()}),[n,t]);var i=Object(r.useMemo)((function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"signup__field"},r.createElement(_,null)),r.createElement("div",{className:"signup__field"},r.createElement(O,null)),r.createElement("div",{className:"signup__field"},r.createElement(L,null)),r.createElement(h.a,{disabled:l,onClick:a,variant:"contained",color:"primary"},"SignUp"))}),[a,l]),c=Object(r.useMemo)((function(){return r.createElement("div",{className:"signup__loader-wrapper"},r.createElement(y.a,{className:"signup__loader"}))}),[]),u=(r.Fragment,Object(r.useMemo)((function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"signup__icon"},r.createElement(A,null)),r.createElement("p",{className:"signup__text"},"Oops!"),r.createElement(h.a,{onClick:o,variant:"contained",color:"primary"},"Try again"))}),[o])),s=Object(r.useMemo)((function(){return"INPUT"===n?i:"ERROR"===n?u:c}),[n,i,c,u]);return r.createElement("div",{className:"signup"},s)})),B=(t(48),Object(c.b)((function(e){return{type:e.signUp.formType,email:e.signUp.login.value,isButtonDisabled:!e.signUp.checkboxChecked||!e.signUp.login.value||!e.signUp.password.value}}),(function(e){return{onSignUpButtonClick:function(){e((function(e,n){var t=n();e(u("LOADING"));var r=t.signUp.login.value,a=t.signUp.password.value,o=new FormData;o.append("email",r),o.append("password",a),o.append("action","signup"),window.fetch(window.WC_STASISPAY.url,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(n){console.log(n);var t=n.email,r=n.detail,a=n.password;n.redirect?(window.location=window.location,window.location.reload()):(t?e(s(t)):a?e({type:"signup/SET_PASSWORD_ERRORS",payload:{errors:a}}):r&&e(s(r)),e(u("INPUT")))}))}))},onReturnButtonClick:function(){e(u("INPUT"))},clearForm:function(){e({type:"signup/CLEAR_FORM"})}}}))(x)),M=function(e){return{type:"login/SET_FORM_TYPE",payload:{type:e}}},D=r.memo((function(e){var n=e.value,t=e.error,a=e.onChange,o=Object(r.useCallback)((function(e){a(e.target.value)}),[a]);return r.createElement(f,{required:!0,error:Boolean(t),label:"Your email",helperText:t,variant:"outlined",onChange:o,value:n})})),F=Object(c.b)((function(e){return{value:e.login.login.value,error:e.login.login.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"login/CHANGE_LOGIN_VALUE",payload:{value:e}}}(n))}}}))(D),W=r.memo((function(e){var n=e.value,t=e.error,a=e.onChange,o=Object(r.useCallback)((function(e){a(e.target.value)}),[a]);return r.createElement(f,{required:!0,error:Boolean(t),label:"Enter password",helperText:t,variant:"outlined",onChange:o,value:n,type:"password"})})),H=Object(c.b)((function(e){return{value:e.login.password.value,error:e.login.password.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"login/CHANGE_PASSWORD_VALUE",payload:{value:e}}}(n))}}}))(W),V=(t(81),r.memo((function(e){var n=e.type,t=e.onLoginButtonClick,a=e.token,o=e.isButtonDisabled,l=Object(r.useMemo)((function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"login__field"},r.createElement(F,null)),r.createElement("div",{className:"login__field"},r.createElement(H,null)),r.createElement(h.a,{onClick:t,disabled:o,variant:"contained",color:"primary"},"Login"))}),[t,o]),i=Object(r.useMemo)((function(){return r.createElement("div",{className:"login__loader"},r.createElement(y.a,null))}),[]),c=Object(r.useMemo)((function(){return r.createElement("div",{className:"login__confirmed"},r.createElement("div",{className:"login__icon"},r.createElement(j,null)),r.createElement("p",{className:"login__text"},"Success!"))}),[]),u=Object(r.useMemo)((function(){return a?c:"INPUT"===n?l:i}),[n,l,i,c,a]);return r.createElement("div",{className:"login"},u)}))),Y=Object(c.b)((function(e){return{type:e.login.formType,isButtonDisabled:!e.login.login.value||!e.login.password.value}}),(function(e){return{onLoginButtonClick:function(){e((function(e,n){var t=n();e(M("LOADING"));var r=t.login.login.value,a=t.login.password.value,o=new FormData;o.append("email",r),o.append("password",a),o.append("action","login"),window.fetch(window.WC_STASISPAY.url,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(n){console.log(n);var t=n.detail;n.redirect?(window.location=window.location,window.location.reload()):(t&&e({type:"login/SET_LOGIN_ERRORS",payload:{errors:t}}),e(M("INPUT")))}))}))}}}))(V),q="SIGNUP",z="LOGIN",J=r.memo((function(e){var n=Object(r.useState)(z),t=Object(i.a)(n,2),a=t[0],o=t[1],l=Object(r.useMemo)((function(){return r.createElement("div",{className:"form__header"},[z,q].map((function(e){return a===e?r.createElement("div",{key:"div1",className:"form__header-item form__header-item_active"},e):r.createElement("div",{key:"div2",className:"form__header-item",onClick:function(){return o(e)}},e)})))}),[a]),c=Object(r.useMemo)((function(){return a===q?r.createElement(B,null):a===z?r.createElement(Y,null):null}),[a]);return r.createElement("div",{className:"form"},l,r.createElement("div",{className:"form__content"},c))}));function K(){return a.a.createElement(J,null)}var X=t(56),Q=t(16),Z=t(57),$=t(11),ee={login:{value:""},password:{value:""},formType:"INPUT"},ne={login:{value:""},password:{value:""},formType:"INPUT"},te=Object(Q.combineReducers)({signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"signup/CHANGE_SIGNUP_LOGIN_VALUE":return Object($.a)({},e,{login:{value:n.payload.value,errors:void 0}});case"signup/SET_LOGIN_ERRORS":return Object($.a)({},e,{login:Object($.a)({},e.login,{errors:n.payload.errors})});case"signup/CHANGE_SIGNUP_PASSWORD_VALUE":return Object($.a)({},e,{password:{value:n.payload.value,errors:void 0}});case"signup/SET_PASSWORD_ERRORS":return Object($.a)({},e,{password:Object($.a)({},e.password,{errors:n.payload.errors})});case"signup/CLEAR_FORM":return Object($.a)({},e,{password:{value:""},login:{value:""},formType:"INPUT"});case"signup/SET_FORM_TYPE":return Object($.a)({},e,{formType:n.payload.type});case"TOGGLE_CHECKBOX":return Object($.a)({},e,{checkboxChecked:!e.checkboxChecked});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"login/CHANGE_LOGIN_VALUE":return Object($.a)({},e,{login:{value:n.payload.value,errors:void 0}});case"login/SET_LOGIN_ERRORS":return Object($.a)({},e,{login:Object($.a)({},e.login,{errors:n.payload.errors})});case"login/CHANGE_PASSWORD_VALUE":return Object($.a)({},e,{password:{value:n.payload.value,errors:void 0}});case"login/SET_PASSWORD_ERRORS":return Object($.a)({},e,{password:Object($.a)({},e.password,{errors:n.payload.errors})});case"login/SET_FORM_TYPE":return Object($.a)({},e,{formType:n.payload.type});default:return e}}}),re=Object(X.composeWithDevTools)({}),ae=Object(Q.createStore)(te,re(Object(Q.applyMiddleware)(Z.a)));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{store:ae},a.a.createElement(K,null))),document.getElementById("wc-stasispay-root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.4bfec182.chunk.js.map