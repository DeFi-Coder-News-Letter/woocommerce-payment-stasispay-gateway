(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{67:function(e,n,t){e.exports=t(82)},72:function(e,n,t){},78:function(e,n,t){},80:function(e,n,t){},81:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(8),l=t.n(o),i=t(58),c=(t(72),t(12)),u=function(e){return{type:"signup/SET_FORM_TYPE",payload:{type:e}}},s=function(e){return{type:"signup/SET_LOGIN_ERRORS",payload:{errors:e}}},d=t(116),p=t(110),m=t(50),g=t.n(m),E=Object(p.a)({root:{width:"100%",maxWidth:"430px"}}),f=a.memo((function(e){var n=E();return a.createElement(d.a,Object.assign({className:g()(e.className,n.root),size:"small"},e))})),v=a.memo((function(e){var n=e.value,t=e.error,r=e.onChange,o=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return a.createElement(f,{required:!0,error:Boolean(t),label:"Your email",helperText:t,variant:"outlined",onChange:o,value:n})})),b=Object(c.b)((function(e){return{value:e.signUp.login.value,error:e.signUp.login.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"signup/CHANGE_SIGNUP_LOGIN_VALUE",payload:{value:e}}}(n))}}}))(v),_=a.memo((function(e){var n=e.value,t=e.error,r=e.onChange,o=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return a.createElement(f,{required:!0,error:Boolean(t),label:"Enter password",helperText:t,variant:"outlined",onChange:o,value:n,type:"password"})})),O=Object(c.b)((function(e){return{value:e.signUp.password.value,error:e.signUp.password.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"signup/CHANGE_SIGNUP_PASSWORD_VALUE",payload:{value:e}}}(n))}}}))(_),y=(t(78),t(114)),h=t(115),S=t(38),w=t(54),N=t.n(w),C=Object(p.a)((function(e){return{circle:{backgroundColor:S.a[500],display:"flex",alignItems:"center",justifyContent:"center",width:"50px",height:"50px",borderRadius:"40px"}}})),j=a.memo((function(e){var n=C();return a.createElement("div",{className:n.circle},a.createElement(N.a,{htmlColor:"white"}))})),T=t(37),R=t(55),k=t.n(R),U=Object(p.a)((function(e){return{circle:{backgroundColor:T.a[500],display:"flex",alignItems:"center",justifyContent:"center",width:"50px",height:"50px",borderRadius:"40px"}}})),A=a.memo((function(e){var n=U();return a.createElement("div",{className:n.circle},a.createElement(k.a,{htmlColor:"white"}))})),G=t(118),I=t(117),P=(t(80),a.memo((function(e){var n=e.isChecked,t=e.onToggleValue;return a.createElement("div",{className:"checkbox"},a.createElement(G.a,{control:a.createElement(I.a,{color:"primary",onChange:t,checked:n}),label:a.createElement("div",{className:"checkbox__text"},"I accept ",a.createElement("a",{href:"https://eurs.gozo.pro/sellback/gozo/docs/disclaimer/",target:"_blank"},"Terms of Business"))}))}))),L=Object(c.b)((function(e){return{isChecked:e.signUp.checkboxChecked}}),(function(e){return{onToggleValue:function(){e({type:"TOGGLE_CHECKBOX"})}}}))(P),x=a.memo((function(e){var n=e.type,t=e.clearForm,r=e.onSignUpButtonClick,o=e.onReturnButtonClick,l=e.isButtonDisabled;Object(a.useEffect)((function(){"SUCCESS"===n&&t()}),[n,t]);var i=Object(a.useMemo)((function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:"signup__field"},a.createElement(b,null)),a.createElement("div",{className:"signup__field"},a.createElement(O,null)),a.createElement("div",{className:"signup__field"},a.createElement(L,null)),a.createElement(y.a,{disabled:l,onClick:r,variant:"contained",color:"primary"},"SignUp"))}),[r,l]),c=Object(a.useMemo)((function(){return a.createElement("div",{className:"signup__loader-wrapper"},a.createElement(h.a,{className:"signup__loader"}))}),[]),u=(a.Fragment,Object(a.useMemo)((function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:"signup__icon"},a.createElement(A,null)),a.createElement("p",{className:"signup__text"},"Oops!"),a.createElement(y.a,{onClick:o,variant:"contained",color:"primary"},"Try again"))}),[o])),s=Object(a.useMemo)((function(){return"INPUT"===n?i:"ERROR"===n?u:c}),[n,i,c,u]);return a.createElement("div",{className:"signup"},s)})),M=(t(48),Object(c.b)((function(e){return{type:e.signUp.formType,email:e.signUp.login.value,isButtonDisabled:!e.signUp.checkboxChecked||!e.signUp.login.value||!e.signUp.password.value}}),(function(e){return{onSignUpButtonClick:function(){e((function(e,n){var t=n();e(u("LOADING"));var a=t.signUp.login.value,r=t.signUp.password.value,o=new FormData;o.append("email",a),o.append("password",r),o.append("action","signup"),window.fetch(window.WC_STASISPAY.url,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(n){console.log(n);var t=n.email,a=n.detail,r=n.password;n.redirect?(window.location=window.location,window.location.reload()):(t?e(s(t)):r?e({type:"signup/SET_PASSWORD_ERRORS",payload:{errors:r}}):a&&e(s(a)),e(u("INPUT")))}))}))},onReturnButtonClick:function(){e(u("INPUT"))},clearForm:function(){e({type:"signup/CLEAR_FORM"})}}}))(x)),B=(t(81),a.memo((function(e){var n=e.value,t=e.error,r=e.onChange,o=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return a.createElement(f,{required:!0,error:Boolean(t),label:"Your email",helperText:t,variant:"outlined",onChange:o,value:n})}))),D=function(e){return{type:"login/SET_FORM_TYPE",payload:{type:e}}},F=Object(c.b)((function(e){return{value:e.login.login.value,error:e.login.login.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"login/CHANGE_LOGIN_VALUE",payload:{value:e}}}(n))}}}))(B),W=a.memo((function(e){var n=e.value,t=e.error,r=e.onChange,o=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return a.createElement(f,{required:!0,error:Boolean(t),label:"Enter password",helperText:t,variant:"outlined",onChange:o,value:n,type:"password"})})),H=Object(c.b)((function(e){return{value:e.login.password.value,error:e.login.password.errors}}),(function(e){return{onChange:function(n){e(function(e){return{type:"login/CHANGE_PASSWORD_VALUE",payload:{value:e}}}(n))}}}))(W),V=a.memo((function(e){var n=e.type,t=e.onLoginButtonClick,r=e.token,o=e.isButtonDisabled,l=e.upgrade,i=Object(a.useMemo)((function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:"login__field"},a.createElement(F,null)),l?a.createElement("p",{className:"stss-pay-details-message"},"Please complete your Full verification at\xa0",a.createElement("a",{href:"https://stasis.net/sellback/",target:"_blank"},"STASIS Sellback"),"\xa0to proceed. It will take about 10 minutes."):null,a.createElement("div",{className:"login__field"},a.createElement(H,null)),a.createElement(y.a,{onClick:t,disabled:o,variant:"contained",color:"primary"},"Login"))}),[t,o,l]),c=Object(a.useMemo)((function(){return a.createElement("div",{className:"login__loader"},a.createElement(h.a,null))}),[]),u=Object(a.useMemo)((function(){return a.createElement("div",{className:"login__confirmed"},a.createElement("div",{className:"login__icon"},a.createElement(j,null)),a.createElement("p",{className:"login__text"},"Success!"))}),[]),s=Object(a.useMemo)((function(){return r?u:"INPUT"===n?i:c}),[n,i,c,u,r]);return a.createElement("div",{className:"login"},s)})),Y=Object(c.b)((function(e){return{type:e.login.formType,upgrade:e.login.login.upgrade,isButtonDisabled:!e.login.login.value||!e.login.password.value}}),(function(e){return{onLoginButtonClick:function(){e((function(e,n){var t=n();e(D("LOADING"));var a=t.login.login.value,r=t.login.password.value,o=new FormData;o.append("email",a),o.append("password",r),o.append("action","login"),window.fetch(window.WC_STASISPAY.url,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(n){console.log(n);var t=n.detail,a=n.redirect,r=n.upgrade;a?(window.location=window.location,window.location.reload()):(t&&e({type:"login/SET_LOGIN_ERRORS",payload:{errors:t}}),r&&e({type:"login/SET_UPGRADE_MESSAGE",payload:{enabled:!0}}),e(D("INPUT")))}))}))}}}))(V),q="SIGNUP",z="LOGIN",J=a.memo((function(e){var n=Object(a.useState)(z),t=Object(i.a)(n,2),r=t[0],o=t[1],l=Object(a.useMemo)((function(){return a.createElement("div",{className:"form__header"},[z,q].map((function(e){return r===e?a.createElement("div",{key:"div1",className:"form__header-item form__header-item_active"},e):a.createElement("div",{key:"div2",className:"form__header-item",onClick:function(){return o(e)}},e)})))}),[r]),c=Object(a.useMemo)((function(){return r===q?a.createElement(M,null):r===z?a.createElement(Y,null):null}),[r]);return a.createElement("div",{className:"form"},l,a.createElement("div",{className:"form__content"},c))}));function K(){return r.a.createElement(J,null)}var X=t(56),Q=t(16),Z=t(57),$=t(10),ee={login:{value:""},password:{value:""},formType:"INPUT"},ne={login:{value:"",upgrade:!1},password:{value:""},formType:"INPUT"},te=Object(Q.combineReducers)({signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"signup/CHANGE_SIGNUP_LOGIN_VALUE":return Object($.a)({},e,{login:{value:n.payload.value,errors:void 0}});case"signup/SET_LOGIN_ERRORS":return Object($.a)({},e,{login:Object($.a)({},e.login,{errors:n.payload.errors})});case"signup/CHANGE_SIGNUP_PASSWORD_VALUE":return Object($.a)({},e,{password:{value:n.payload.value,errors:void 0}});case"signup/SET_PASSWORD_ERRORS":return Object($.a)({},e,{password:Object($.a)({},e.password,{errors:n.payload.errors})});case"signup/CLEAR_FORM":return Object($.a)({},e,{password:{value:""},login:{value:""},formType:"INPUT"});case"signup/SET_FORM_TYPE":return Object($.a)({},e,{formType:n.payload.type});case"TOGGLE_CHECKBOX":return Object($.a)({},e,{checkboxChecked:!e.checkboxChecked});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"login/CHANGE_LOGIN_VALUE":return Object($.a)({},e,{login:{value:n.payload.value,errors:void 0,upgrade:!1}});case"login/SET_LOGIN_ERRORS":return Object($.a)({},e,{login:Object($.a)({},e.login,{errors:n.payload.errors})});case"login/SET_UPGRADE_MESSAGE":return Object($.a)({},e,{login:Object($.a)({},e.login,{upgrade:n.payload.enabled})});case"login/CHANGE_PASSWORD_VALUE":return Object($.a)({},e,{password:{value:n.payload.value,errors:void 0}});case"login/SET_PASSWORD_ERRORS":return Object($.a)({},e,{password:Object($.a)({},e.password,{errors:n.payload.errors})});case"login/SET_FORM_TYPE":return Object($.a)({},e,{formType:n.payload.type});default:return e}}}),ae=Object(X.composeWithDevTools)({}),re=Object(Q.createStore)(te,ae(Object(Q.applyMiddleware)(Z.a)));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:re},r.a.createElement(K,null))),document.getElementById("wc-stasispay-root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.fd0e9df8.chunk.js.map